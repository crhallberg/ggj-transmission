<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Quack to the Future</title>
    <link rel="stylesheet" href="./style.css"/>
		<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-database.js"></script>
    <script src="./firebase.js"></script>
  </head>
  <body>
		<div id="center_container">
			<img id="logo" src="images/logo.png"/><br>
			Enter race code:<br>
			<input id="race_code" type="text" size="40">
      <a href="#" id="shuffle_icon"><img class="role_icon" src="images/refresh.svg"/></a><br>
			<button id="start" class="ui_button">Go!</button>
		</div>
    <script>
      var nameField = document.getElementById("race_code");
      var adjs = [
        "AGGRESSIVE",
        "HAPPY",
        "QUIET",
        "SHORT",
        "SLIPPERY",
        "STUPID",
        "SUPER",
        "WORLD",
        "ZEN",
      ];
      var nouns = [
        "AERIAL",
        "CANYON",
        "FOREST",
        "LLAMA",
        "MARSH",
        "POWERTHIRSTâ„¢",
        "STAR",
        "TIN",
        "TORNADO",
        "WHATEVER",
      ];
      function newName() {
        nameField.value = adjs[Math.floor(Math.random() * adjs.length)] + " " + nouns[Math.floor(Math.random() * nouns.length)];
      }
      document.getElementById("shuffle_icon").addEventListener("click", newName, false);
      newName();

      function getKey() {
        return nameField.value.replace(/[^a-zA-Z0-9]+/g, "-").toLowerCase();
      }
      document.getElementById("start").addEventListener("click", function connectToRace() {
        var cupName = getKey();
        localStorage.setItem("race", nameField.value);
        localStorage.setItem("raceKey", cupName);
        window.location = "race_setup.html";
      }, false);
    </script>
  </body>
</html>
